<!DOCTYPE html>
<html lang="en-US">
  <head>
    <link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><link rel="icon" type="image/png" sizes="16x16" href="/images/ublog.png"><title>Using docker-compose | μblog docs</title><meta name="description" content="documentation for μblog, a reference web application built with Django and Vue.js"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.23">
    <link rel="preload" href="/django-step-by-step/assets/js/runtime~app.f4974746.js" as="script"><link rel="preload" href="/django-step-by-step/assets/css/styles.592d94e4.css" as="style"><link rel="preload" href="/django-step-by-step/assets/js/981.12928b34.js" as="script"><link rel="preload" href="/django-step-by-step/assets/js/app.be7711e5.js" as="script">
    <link rel="stylesheet" href="/django-step-by-step/assets/css/styles.592d94e4.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/django-step-by-step/" class=""><img class="logo" src="/django-step-by-step/images/ublog.png" alt="μblog docs"><span class="site-name can-hide">μblog docs</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/django-step-by-step/intro" class="nav-link" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/topics/twelve-factor-app" class="nav-link" aria-label="Twelve-Factor App"><!--[--><!--]--> Twelve-Factor App <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/django/" class="nav-link" aria-label="Django Application"><!--[--><!--]--> Django Application <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/quasar/" class="nav-link" aria-label="Quasar Application"><!--[--><!--]--> Quasar Application <!--[--><!--]--></a></li><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/docker-compose/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Docker Compose"><!--[--><!--]--> Docker Compose <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/jwt-authentication/" class="nav-link" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/vuepress/" class="nav-link" aria-label="VuePress Documentation"><!--[--><!--]--> VuePress Documentation <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/guide/step-by-step/" class="nav-link" aria-label="Step by step guide"><!--[--><!--]--> Step by step guide <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>CI/CD</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/github-actions/" class="nav-link" aria-label="GitHub Actions"><!--[--><!--]--> GitHub Actions <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/gitlab-ci/" class="nav-link" aria-label="GitLab CI"><!--[--><!--]--> GitLab CI <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><a href="/django-step-by-step/deploy/overview/" class="nav-link" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/raspi/" class="nav-link" aria-label="Raspberry Pi"><!--[--><!--]--> Raspberry Pi <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/digital-ocean/" class="nav-link" aria-label="DigitalOcean"><!--[--><!--]--> DigitalOcean <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/overview" class="nav-link" aria-label="AWS Overview"><!--[--><!--]--> AWS Overview <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/docker-swarm-ec2/" class="nav-link" aria-label="Docker Swarm on EC2"><!--[--><!--]--> Docker Swarm on EC2 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/docker-compose/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/zh/" class="nav-link" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/briancaffey/django-step-by-step" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/django-step-by-step/intro" class="nav-link" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/topics/twelve-factor-app" class="nav-link" aria-label="Twelve-Factor App"><!--[--><!--]--> Twelve-Factor App <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/django/" class="nav-link" aria-label="Django Application"><!--[--><!--]--> Django Application <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/quasar/" class="nav-link" aria-label="Quasar Application"><!--[--><!--]--> Quasar Application <!--[--><!--]--></a></li><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/docker-compose/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Docker Compose"><!--[--><!--]--> Docker Compose <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/jwt-authentication/" class="nav-link" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/vuepress/" class="nav-link" aria-label="VuePress Documentation"><!--[--><!--]--> VuePress Documentation <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/guide/step-by-step/" class="nav-link" aria-label="Step by step guide"><!--[--><!--]--> Step by step guide <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>CI/CD</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/github-actions/" class="nav-link" aria-label="GitHub Actions"><!--[--><!--]--> GitHub Actions <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/gitlab-ci/" class="nav-link" aria-label="GitLab CI"><!--[--><!--]--> GitLab CI <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><a href="/django-step-by-step/deploy/overview/" class="nav-link" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/raspi/" class="nav-link" aria-label="Raspberry Pi"><!--[--><!--]--> Raspberry Pi <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/digital-ocean/" class="nav-link" aria-label="DigitalOcean"><!--[--><!--]--> DigitalOcean <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/overview" class="nav-link" aria-label="AWS Overview"><!--[--><!--]--> AWS Overview <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/docker-swarm-ec2/" class="nav-link" aria-label="Docker Swarm on EC2"><!--[--><!--]--> Docker Swarm on EC2 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/docker-compose/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/zh/" class="nav-link" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/briancaffey/django-step-by-step" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Using docker-compose</p><ul class=""><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#using-docker-compose-for-local-development" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Using docker-compose for local development"><!--[--><!--]--> Using docker-compose for local development <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_1-your-local-computer" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1. Your local computer"><!--[--><!--]--> 1. Your local computer <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_2-the-quasar-project" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2. The Quasar project"><!--[--><!--]--> 2. The Quasar project <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_3-localhost" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3. localhost"><!--[--><!--]--> 3. localhost <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_4-docker" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4. docker"><!--[--><!--]--> 4. docker <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_5-main" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="5. main"><!--[--><!--]--> 5. main <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_6-nginx" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="6. nginx"><!--[--><!--]--> 6. nginx <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_7-nginx-routing" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="7. nginx routing"><!--[--><!--]--> 7. nginx routing <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_8-backend" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="8. backend"><!--[--><!--]--> 8. backend <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_9-postgres" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="9. postgres"><!--[--><!--]--> 9. postgres <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_11-redis" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="11. redis"><!--[--><!--]--> 11. redis <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_11-pgadmin" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="11. pgadmin"><!--[--><!--]--> 11. pgadmin <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_12-celery-default" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="12. celery_default"><!--[--><!--]--> 12. celery_default <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_13-beat" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="13. beat"><!--[--><!--]--> 13. beat <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_14-apple" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="14. Apple"><!--[--><!--]--> 14. Apple <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_15-linux" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="15. Linux"><!--[--><!--]--> 15. Linux <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_16-windows" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="16. Windows"><!--[--><!--]--> 16. Windows <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#how-to-start-working-on-the-project-using-docker-compose" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="How to start working on the project using docker-compose"><!--[--><!--]--> How to start working on the project using docker-compose <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="using-docker-compose" tabindex="-1"><a class="header-anchor" href="#using-docker-compose" aria-hidden="true">#</a> Using docker-compose</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#using-docker-compose-for-local-development" class="router-link-active router-link-exact-active">Using docker-compose for local development</a><ul><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_1-your-local-computer" class="router-link-active router-link-exact-active">1. Your local computer</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_2-the-quasar-project" class="router-link-active router-link-exact-active">2. The Quasar project</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_3-localhost" class="router-link-active router-link-exact-active">3. localhost</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_4-docker" class="router-link-active router-link-exact-active">4. docker</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_5-main" class="router-link-active router-link-exact-active">5. main</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_6-nginx" class="router-link-active router-link-exact-active">6. nginx</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_7-nginx-routing" class="router-link-active router-link-exact-active">7. nginx routing</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_8-backend" class="router-link-active router-link-exact-active">8. backend</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_9-postgres" class="router-link-active router-link-exact-active">9. postgres</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_11-redis" class="router-link-active router-link-exact-active">11. redis</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_11-pgadmin" class="router-link-active router-link-exact-active">11. pgadmin</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_12-celery-default" class="router-link-active router-link-exact-active">12. celery_default</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_13-beat" class="router-link-active router-link-exact-active">13. beat</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_14-apple" class="router-link-active router-link-exact-active">14. Apple</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_15-linux" class="router-link-active router-link-exact-active">15. Linux</a></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#_16-windows" class="router-link-active router-link-exact-active">16. Windows</a></li></ul></li><li><a aria-current="page" href="/django-step-by-step/topics/docker-compose/#how-to-start-working-on-the-project-using-docker-compose" class="router-link-active router-link-exact-active">How to start working on the project using docker-compose</a></li></ul></nav><h2 id="using-docker-compose-for-local-development" tabindex="-1"><a class="header-anchor" href="#using-docker-compose-for-local-development" aria-hidden="true">#</a> Using docker-compose for local development</h2><p>The easiest way to start the project in a local development environment is to use <code>docker-compose</code>. The following diagram is an overview of how the <code>docker-compose</code> local development environment works.</p><img src="/django-step-by-step/diagrams/docker-compose.png" alt="docker-compose"><h3 id="_1-your-local-computer" tabindex="-1"><a class="header-anchor" href="#_1-your-local-computer" aria-hidden="true">#</a> 1. Your local computer</h3><p>This diagram shows how to run the project on you computer so that it can be changed in real-time using hot-reloading. Hot reloading means that when you save changes to files, application corresponding to the changed file automatically reloads. This allows you to develop quickly without needing to manually restart whenever you make changes. Running your application in a production mode will be different, but the local development environment tries to mimic the production environment as closely as possible.</p><h3 id="_2-the-quasar-project" tabindex="-1"><a class="header-anchor" href="#_2-the-quasar-project" aria-hidden="true">#</a> 2. The Quasar project</h3><p>This is the one part of the local development environment that is <em>not</em> controlled by docker. It can be, but I find it easier to work the Quasar frontend when it is not running in a container. The Quasar project runs on port 8080 and can be started by running <code>make quasar-dev</code>.</p><h3 id="_3-localhost" tabindex="-1"><a class="header-anchor" href="#_3-localhost" aria-hidden="true">#</a> 3. <code>localhost</code></h3><p><code>localhost</code> is an important concept to grasp when working with docker and docker-compose. Containers run processes on ports, but these ports cannot be access on <code>localhost</code> unless the container port is mapped to the port on <code>localhost</code>. For example, the <code>nginx</code> container has the following port mapping:</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>  <span class="token key atrule">nginx</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./nginx
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> dev/Dockerfile
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;80:80&quot;</span> <span class="token comment"># port 80 in the container is mapped to port 80 on `localhost`</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> backend
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./nginx/dev/dev.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf<span class="token punctuation">:</span>ro
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_4-docker" tabindex="-1"><a class="header-anchor" href="#_4-docker" aria-hidden="true">#</a> 4. <code>docker</code></h3><p>The outer-most box in the diagram contains all of docker resources: containers, volumes and networks.</p><h3 id="_5-main" tabindex="-1"><a class="header-anchor" href="#_5-main" aria-hidden="true">#</a> 5. <code>main</code></h3><p><code>main</code> is the docker network that all development containers run in. Containers on the same network can communicate with each other by referencing the name of the service. All of the services can be found in the docker-compose file:</p><ul><li><code>nginx</code></li><li><code>postgres</code></li><li><code>pgadmin</code></li><li><code>redis</code></li><li><code>redis-commander</code></li><li><code>backend</code></li><li><code>celery_default</code></li><li><code>beat</code></li><li><code>mailhog</code></li></ul><h3 id="_6-nginx" tabindex="-1"><a class="header-anchor" href="#_6-nginx" aria-hidden="true">#</a> 6. <code>nginx</code></h3><p>The <code>nginx</code> container is like the front-door for our application.</p><h3 id="_7-nginx-routing" tabindex="-1"><a class="header-anchor" href="#_7-nginx-routing" aria-hidden="true">#</a> 7. <code>nginx</code> routing</h3><p>All requests to <code>localhost</code> (port <code>80</code> of <code>localhost</code>) are sent to the <code>nginx</code> container. The nginx configuration file (<code>nginx/dev/dev.conf</code>) is used to route applications to either the <code>backend</code> container if the request starts with one of the following:</p><ul><li><code>/api/</code></li><li><code>/admin/</code></li><li><code>/graphql/</code></li></ul><p>All other requests will be sent to port 8080 of <code>localhost</code> (where the Quasar application is running).</p><h3 id="_8-backend" tabindex="-1"><a class="header-anchor" href="#_8-backend" aria-hidden="true">#</a> 8. <code>backend</code></h3><p>This box represents the Django application server that serves requests for the REST and GraphQL APIs, as well as the Django Admin interface.</p><p>Here&#39;s how the <code>backend</code> container is configured:</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>  <span class="token key atrule">backend</span><span class="token punctuation">:</span> <span class="token important">&amp;backend</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> backend
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./backend
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile.dev
    <span class="token key atrule">command</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;python3&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;manage.py&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;runserver&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;0.0.0.0:8000&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./backend<span class="token punctuation">:</span>/code
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8000:8000&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8888:8888&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> CELERY_TASK_ALWAYS_EAGER=$CELERY_TASK_ALWAYS_EAGER
      <span class="token punctuation">-</span> DJANGO_EMAIL_HOST=mailhog
      <span class="token punctuation">-</span> DEBUG=1
      <span class="token punctuation">-</span> POSTGRES_SERVICE_HOST=postgres
      <span class="token punctuation">-</span> REDIS_SERVICE_HOST=redis
      <span class="token punctuation">-</span> DJANGO_SETTINGS_MODULE=backend.settings.development
      <span class="token punctuation">-</span> AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID
      <span class="token punctuation">-</span> AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> postgres
      <span class="token punctuation">-</span> redis
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>Note the volume mount in the backend service definition:</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./backend<span class="token punctuation">:</span>/code
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>This volume mount is what allows the Django application to reload whenever code changes are made. The <code>runserver</code> command running in the container will reload when we change files in an editor on our machine (outside of the container) because the directory that contains the files being edited are mapped to the container, so the files on our local computer appear to the <code>backend</code> as if they are they are files in the container.</p><h3 id="_9-postgres" tabindex="-1"><a class="header-anchor" href="#_9-postgres" aria-hidden="true">#</a> 9. <code>postgres</code></h3><p>The Postgres database that persists data for the Django application. This is a pretty standard way to run a database using docker.</p><h3 id="_11-redis" tabindex="-1"><a class="header-anchor" href="#_11-redis" aria-hidden="true">#</a> 11. <code>redis</code></h3><p>Redis is a key-value store that can be used by Django in few different ways:</p><ol><li>caching requests</li><li>queueing tasks</li></ol><h3 id="_11-pgadmin" tabindex="-1"><a class="header-anchor" href="#_11-pgadmin" aria-hidden="true">#</a> 11. <code>pgadmin</code></h3><p><code>pgadmin</code> is a utility container that allows you to interact with the Postgres database at a highly detailed level. To access the database, navigate to <a href="http://localhost:5050" target="_blank" rel="noopener noreferrer"><code>http://localhost:5050</code><span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> and use the following credentials:</p><ul><li>email: <code>pgadmin4@pgadmin.org</code></li><li>password: <code>admin</code></li></ul><h3 id="_12-celery-default" tabindex="-1"><a class="header-anchor" href="#_12-celery-default" aria-hidden="true">#</a> 12. <code>celery_default</code></h3><p>Celery is the processes that does work on tasks when new tasks are submitted to the queue. The <code>celery_default</code> container is configure to only process the <code>default</code> task queue. You can configure as many different queues as you want, and a single container can be configured to process tasks for any number of queues.</p><p>If there is not much task queuing happening in your application, you probably only need one task queue.</p><h3 id="_13-beat" tabindex="-1"><a class="header-anchor" href="#_13-beat" aria-hidden="true">#</a> 13. <code>beat</code></h3><p>Celery beat is a services that submits tasks to the task queue on a set schedule. The schedule is defined in the <code>base.py</code> Django settings file with the <code>CELERY_BEAT_SCHEDULE</code> settings value.</p><p>Note that both <code>celery_default</code> and <code>beat</code> both inherit the service settings from the <code>backend</code> container. This is done using <strong>YAML anchors</strong>.</p><h3 id="_14-apple" tabindex="-1"><a class="header-anchor" href="#_14-apple" aria-hidden="true">#</a> 14. Apple</h3><p>The following development environment can run on Apple computers with both Intel and Apple Silicon (M1) chips.</p><h3 id="_15-linux" tabindex="-1"><a class="header-anchor" href="#_15-linux" aria-hidden="true">#</a> 15. Linux</h3><p>The development environment and related tooling is fully supported by Linux-based operating systems such as Ubuntu 20.04.</p><h3 id="_16-windows" tabindex="-1"><a class="header-anchor" href="#_16-windows" aria-hidden="true">#</a> 16. Windows</h3><p>When working with Windows, it is recommended to use WSL2. This is a Linux-based environment that is designed to run on Windows, and it fully supports running docker-containers.</p><p>To get started with WSL on Windows 10, see the following resources:</p><ul><li><a href="https://docs.docker.com/desktop/windows/wsl/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/desktop/windows/wsl/<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-containers" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-containers<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul><h2 id="how-to-start-working-on-the-project-using-docker-compose" tabindex="-1"><a class="header-anchor" href="#how-to-start-working-on-the-project-using-docker-compose" aria-hidden="true">#</a> How to start working on the project using docker-compose</h2><p>To start working on the project with the docker-compose setup, you need to do the following:</p><ol><li>install docker</li><li>run <code>docker compose up --build</code></li><li>exec into the container to start running commands</li></ol><p>To exec into the backend container, you can run the following command:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it backend bash
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>From inside of the container, you can run the following commands:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>python3 manage.py shell
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>This command will setup the database tables in postgres so that our application can start reading and writing data from and to the Postgres database.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>python manage.py generate_posts
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>This command can be used to generate 20 random posts.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/briancaffey/django-step-by-step/edit/main/vuepress-docs/docs/topics/docker-compose/README.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">9/11/2022, 10:05:42 PM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a aria-current="page" href="/django-step-by-step/topics/docker-compose" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Using docker-compose"><!--[--><!--]--> Using docker-compose <!--[--><!--]--></a></span><span class="next"><a href="/django-step-by-step/topics/jwt-authentication" class="nav-link" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/django-step-by-step/assets/js/runtime~app.f4974746.js" defer></script><script src="/django-step-by-step/assets/js/981.12928b34.js" defer></script><script src="/django-step-by-step/assets/js/app.be7711e5.js" defer></script>
  </body>
</html>
