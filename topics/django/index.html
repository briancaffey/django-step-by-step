<!DOCTYPE html>
<html lang="en-US">
  <head>
    <link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><link rel="icon" type="image/png" sizes="16x16" href="/images/ublog.png"><title>About the Django Application | μblog docs</title><meta name="description" content="documentation for μblog, a reference web application built with Django and Vue.js"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.23">
    <link rel="preload" href="/django-step-by-step/assets/js/runtime~app.11e231d5.js" as="script"><link rel="preload" href="/django-step-by-step/assets/css/styles.592d94e4.css" as="style"><link rel="preload" href="/django-step-by-step/assets/js/981.12928b34.js" as="script"><link rel="preload" href="/django-step-by-step/assets/js/app.343de9e1.js" as="script">
    <link rel="stylesheet" href="/django-step-by-step/assets/css/styles.592d94e4.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/django-step-by-step/" class=""><img class="logo" src="/django-step-by-step/images/ublog.png" alt="μblog docs"><span class="site-name can-hide">μblog docs</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/django-step-by-step/intro" class="nav-link" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/topics/twelve-factor-app" class="nav-link" aria-label="Twelve-Factor App"><!--[--><!--]--> Twelve-Factor App <!--[--><!--]--></a></li><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/django/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Django Application"><!--[--><!--]--> Django Application <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/quasar/" class="nav-link" aria-label="Quasar Application"><!--[--><!--]--> Quasar Application <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/docker-compose/" class="nav-link" aria-label="Docker Compose"><!--[--><!--]--> Docker Compose <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/jwt-authentication/" class="nav-link" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/vuepress/" class="nav-link" aria-label="VuePress Documentation"><!--[--><!--]--> VuePress Documentation <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/guide/step-by-step/" class="nav-link" aria-label="Step by step guide"><!--[--><!--]--> Step by step guide <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>CI/CD</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/github-actions/" class="nav-link" aria-label="GitHub Actions"><!--[--><!--]--> GitHub Actions <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/gitlab-ci/" class="nav-link" aria-label="GitLab CI"><!--[--><!--]--> GitLab CI <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><a href="/django-step-by-step/deploy/overview/" class="nav-link" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/raspi/" class="nav-link" aria-label="Raspberry Pi"><!--[--><!--]--> Raspberry Pi <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/digital-ocean/" class="nav-link" aria-label="DigitalOcean"><!--[--><!--]--> DigitalOcean <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/overview" class="nav-link" aria-label="AWS Overview"><!--[--><!--]--> AWS Overview <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/docker-swarm-ec2/" class="nav-link" aria-label="Docker Swarm on EC2"><!--[--><!--]--> Docker Swarm on EC2 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/django/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/zh/" class="nav-link" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/briancaffey/django-step-by-step" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/django-step-by-step/intro" class="nav-link" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Topics"><span class="title">Topics</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/topics/twelve-factor-app" class="nav-link" aria-label="Twelve-Factor App"><!--[--><!--]--> Twelve-Factor App <!--[--><!--]--></a></li><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/django/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Django Application"><!--[--><!--]--> Django Application <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/quasar/" class="nav-link" aria-label="Quasar Application"><!--[--><!--]--> Quasar Application <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/docker-compose/" class="nav-link" aria-label="Docker Compose"><!--[--><!--]--> Docker Compose <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/jwt-authentication/" class="nav-link" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/topics/vuepress/" class="nav-link" aria-label="VuePress Documentation"><!--[--><!--]--> VuePress Documentation <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/django-step-by-step/guide/step-by-step/" class="nav-link" aria-label="Step by step guide"><!--[--><!--]--> Step by step guide <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>CI/CD</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/github-actions/" class="nav-link" aria-label="GitHub Actions"><!--[--><!--]--> GitHub Actions <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/guide/ci-cd/gitlab-ci/" class="nav-link" aria-label="GitLab CI"><!--[--><!--]--> GitLab CI <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Deploy"><span class="title">Deploy</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><a href="/django-step-by-step/deploy/overview/" class="nav-link" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/raspi/" class="nav-link" aria-label="Raspberry Pi"><!--[--><!--]--> Raspberry Pi <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/digital-ocean/" class="nav-link" aria-label="DigitalOcean"><!--[--><!--]--> DigitalOcean <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/overview" class="nav-link" aria-label="AWS Overview"><!--[--><!--]--> AWS Overview <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/django-step-by-step/deploy/aws/docker-swarm-ec2/" class="nav-link" aria-label="Docker Swarm on EC2"><!--[--><!--]--> Docker Swarm on EC2 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/django-step-by-step/topics/django/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/django-step-by-step/zh/" class="nav-link" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/briancaffey/django-step-by-step" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">About the Django Application</p><ul class=""><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#data-model" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Data Model"><!--[--><!--]--> Data Model <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#core-app" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Core App"><!--[--><!--]--> Core App <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#blog-app" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Blog App"><!--[--><!--]--> Blog App <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#views" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Views"><!--[--><!--]--> Views <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#custom-user-model" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Custom User Model"><!--[--><!--]--> Custom User Model <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#poetry-for-managing-django-project-dependencies" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Poetry for managing Django project dependencies"><!--[--><!--]--> Poetry for managing Django project dependencies <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#graphql-with-graphene" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="GraphQL with Graphene"><!--[--><!--]--> GraphQL with Graphene <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#django-rest-framework" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Django REST Framework"><!--[--><!--]--> Django REST Framework <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#function-based-views" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Function based views"><!--[--><!--]--> Function based views <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#modelviewset" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="ModelViewSet"><!--[--><!--]--> ModelViewSet <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#action-decorator" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="@action decorator"><!--[--><!--]--> @action decorator <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#get-queryset-method" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="get_queryset method"><!--[--><!--]--> get_queryset method <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#openapi-documentation" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="OpenAPI Documentation"><!--[--><!--]--> OpenAPI Documentation <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/django-step-by-step/topics/django/#jwt-authentication-and-httponly-cookies" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="JWT Authentication and HttpOnly Cookies"><!--[--><!--]--> JWT Authentication and HttpOnly Cookies <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="about-the-django-application" tabindex="-1"><a class="header-anchor" href="#about-the-django-application" aria-hidden="true">#</a> About the Django Application</h1><p>The Django application is the main component of the backend and handles the following:</p><ul><li>Return responses for web requests (using gunicorn)</li><li>Process asynchronous tasks (using Celery)</li></ul><h2 id="data-model" tabindex="-1"><a class="header-anchor" href="#data-model" aria-hidden="true">#</a> Data Model</h2><p>The Django project is a simple blogging application. The main data model is a <code>Post</code> model that contains a few different types of fields:</p><ul><li><code>body</code>: The title of the post, a <code>CharField</code></li><li><code>image</code>: An optional image associated with the post, an <code>ImageField</code></li><li><code>likes</code>: ManyToMany field to <code>PostLike</code> model (through model)</li><li><code>created_on</code>: <code>DateTimeField</code> (inherited from <code>BaseModel</code>)</li><li><code>modified_on</code>: <code>DateTimeField</code> (inherited from <code>BaseModel</code>)</li><li><code>created_by</code>: <code>ForeignKey</code> to <code>CustomUser</code> model (inherited from <code>BaseModel</code>)</li></ul><h3 id="core-app" tabindex="-1"><a class="header-anchor" href="#core-app" aria-hidden="true">#</a> Core App</h3><ul><li>RequestLog</li></ul><h3 id="blog-app" tabindex="-1"><a class="header-anchor" href="#blog-app" aria-hidden="true">#</a> Blog App</h3><ul><li>Blog Post</li><li>Like</li></ul><h2 id="views" tabindex="-1"><a class="header-anchor" href="#views" aria-hidden="true">#</a> Views</h2><p>Views are where most of the work of the request/response cycle takes place. In Django, views are functions or classes responsible for handling requests and returning responses.</p><p>This application uses several different types of views:</p><ul><li>function-based views</li><li>class-based views</li></ul><p>The function based views are fairly easy to read and understand and are find for most use cases. Class-based views can be used to achieve the same functionality as function-based views but require less code. Customizing the behavior of class-based views requires overwriting methods of view class being used.</p><h2 id="custom-user-model" tabindex="-1"><a class="header-anchor" href="#custom-user-model" aria-hidden="true">#</a> Custom User Model</h2><p>Django has a default model that provides a user model. Instead of using this, we can subclass the <code>AbstractBaseUser</code> model to keep most of the same behavior, but also have a more flexible model that will allow us to add custom fields.</p><p>See <a href="https://docs.djangoproject.com/en/3.2/topics/auth/customizing/" target="_blank" rel="noopener noreferrer">Customizing authentication in Django<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> for more information on customizing authentication in Django.</p><h2 id="poetry-for-managing-django-project-dependencies" tabindex="-1"><a class="header-anchor" href="#poetry-for-managing-django-project-dependencies" aria-hidden="true">#</a> Poetry for managing Django project dependencies</h2><p>Poetry is used as a dependency manager for Django projects. First we can have a look at how poetry works at a high level. We can list all of the project&#39;s python dependencies in <code>pyproject.toml</code>, including development dependencies (such as <code>pytest</code> for example) and product-only dependencies (such as the <code>Django</code> package). This <code>pyproject.toml</code> file is then used to create a <code>poetry.lock</code> file that contains the exact version of each dependency.</p><h2 id="graphql-with-graphene" tabindex="-1"><a class="header-anchor" href="#graphql-with-graphene" aria-hidden="true">#</a> GraphQL with Graphene</h2><h2 id="django-rest-framework" tabindex="-1"><a class="header-anchor" href="#django-rest-framework" aria-hidden="true">#</a> Django REST Framework</h2><p>Django REST Framework (DRF) is used to build the REST API for μblog. The REST API is implemented in two different ways:</p><ul><li>using function-based views</li><li>using class-based views</li></ul><h3 id="function-based-views" tabindex="-1"><a class="header-anchor" href="#function-based-views" aria-hidden="true">#</a> Function based views</h3><p>Django REST Framework allows you to use functions to handle API requests. The functions must be decorated with the <code>@api_view</code> decorator, and other decorators can be used to customize view behavior. One function is used per CRUD operation on our blog post model. There is also a function used to handle requests made when an authenticated user clicks the <code>like</code> button.</p><h3 id="modelviewset" tabindex="-1"><a class="header-anchor" href="#modelviewset" aria-hidden="true">#</a> ModelViewSet</h3><p>Similar to Django, DRF allows you to express views with both functions and classes. There are multiple approaches that can be used with class-based. <code>ModelViewSet</code> is used in this sample application. The <code>ModelViewSet</code> class is used to create a view that can be used to create, retrieve, update, and delete a model instance.</p><h3 id="action-decorator" tabindex="-1"><a class="header-anchor" href="#action-decorator" aria-hidden="true">#</a> <code>@action</code> decorator</h3><p>For the like button functionality, the <code>@action</code> decorator is used to create a custom action on blog posts.</p><h3 id="get-queryset-method" tabindex="-1"><a class="header-anchor" href="#get-queryset-method" aria-hidden="true">#</a> <code>get_queryset</code> method</h3><p>The <code>get_queryset</code> method is used to efficiently fetch the number of likes for each blog post, and to a boolean property that indicates that the current user (if there is one) has liked a given post.</p><h2 id="openapi-documentation" tabindex="-1"><a class="header-anchor" href="#openapi-documentation" aria-hidden="true">#</a> OpenAPI Documentation</h2><p>OpenAPI is used to build documentation for the API built with Django REST Framework.</p><h2 id="jwt-authentication-and-httponly-cookies" tabindex="-1"><a class="header-anchor" href="#jwt-authentication-and-httponly-cookies" aria-hidden="true">#</a> JWT Authentication and HttpOnly Cookies</h2><p>How to do authentication in Django REST Framework project is sometimes a heated debate over web standards and security best practices. This project implements one of the most popular packages for authentication in Django REST Framework, <code>djangorestframework-simplejwt</code> with some modifications.</p><p>The modifications involve sub-classing certain classes used for authentication so that the <code>refresh_token</code> can be stored in an <code>HttpOnly</code> cookie. This behavior is not provided by default, but it is important to do this so that credentials do not need to be stored in the browser&#39;s <code>localStorage</code> or in cookies that can be accessed by JavaScript.</p><p>The access token is retrieved from the body of an authentication endpoint (where the username and password are supplied) and is then attached to each request that the browser makes to the API (using axios). The access token is stored in memory in a Vue.js <code>ref</code> object. The access token is used to authenticate requests on the server without having to make extra database queries.</p><p>The payload of the JWT access token is not used to retrieve any information. Instead, a separate authenticated request is made to fetch information on the user (user profile information).</p><p>When the user authenticates with a username and password and gets the <code>access</code> token as described above, there is no <code>refresh</code> token in the response body. Instead, the <code>refresh</code> token is set in an <code>HttpOnly</code> cookie on the server that is then set on the web browser client. The refresh cookie is used to refresh the short-lived <code>access</code> token.</p><p>See <code>auth_views.py</code> for the code that customizes the <code>djangorestframework-simplejwt</code> package behavior.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/briancaffey/django-step-by-step/edit/main/vuepress-docs/docs/topics/django/README.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">10/31/2022, 3:34:02 AM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/django-step-by-step/topics/twelve-factor-app" class="nav-link" aria-label="12 Factor App"><!--[--><!--]--> 12 Factor App <!--[--><!--]--></a></span><span class="next"><a href="/django-step-by-step/topics/quasar" class="nav-link" aria-label="Quasar Setup"><!--[--><!--]--> Quasar Setup <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/django-step-by-step/assets/js/runtime~app.11e231d5.js" defer></script><script src="/django-step-by-step/assets/js/981.12928b34.js" defer></script><script src="/django-step-by-step/assets/js/app.343de9e1.js" defer></script>
  </body>
</html>
